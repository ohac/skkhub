# -*- coding: utf-8 -*-
module SKKHub

  class AAMaker

    def generate
      rinkaku = [['(', ')'], ['(', ')'], ['|', '|'], ['[', ']']].shuffle.shift
      otete = [['', '', '', '', ''], ['', '', 'm', '', ''], ['', '', 'ლ', '', ''], ['ლ', '', '', 'ლ', ''], ['', '｢', '', '', '｢'], ['', ' つ', '', '', 'つ'], ['', ' ', '', '', 'o彡ﾟ'], ['', 'n', '', '', 'η'], ['', '∩', '', '∩', ''], ['∩', '', '', '', '∩'], ['ヽ', '', '', '', 'ノ'], ['┐', '', '', '', '┌'], ['╮', '', '', '', '╭'], ['<', '', '', '', '/'], ['╰', '', '', ' ', ''], ['o', '', '', '', 'o'], ['o', '', '', '', 'ツ'], ['', '', '', '', 'ﾉｼ']].shuffle.shift
      omeme = [['╹', '╹'], ['＞', '＜'], ['＾', '＾'], ['・', '・'], ['´・', '・`'], ['`・', '・´'], ['´', '`'], ['≧', '≦'], ['ﾟ', 'ﾟ'], ['\'', '\''], ['･ิ', '･ิ'], ['❛', '❛'], ['⊙', '⊙'], ['￣', '￣'], ['◕ˇ', 'ˇ◕']].shuffle.shift
      okuti = ['ω', '∀', '▽', '△', 'Д', '◡', 'A', '□', '～', 'ー', 'ェ', 'ρ', 'o', 'O', '○', '﹏', 'ڡ'].shuffle.shift
      hoppe = [['', ''], ['*', ''], ['', '*'], ['', '#'], ['#', ''], ['✿', ''], ['', '✿'], ['', '；'], ['；', ''], ['｡', '｡'], ['｡', ''], ['', '｡'], ['▰', '▰'], ['', '▰'], ['▰', ''], ['๑', '๑'], ['', '๑'], ['๑', '']].shuffle.shift
      [
          otete[0],
          rinkaku[0],
          otete[1] || (otete[3] ? '' : hoppe[0]),
          omeme[0],
          otete[2] || okuti,
          omeme[1],
          otete[3] || (otete[1] ? '' : hoppe[1]),
          rinkaku[1],
          otete[4]
      ].join('')
    end

    def search(q)
      return [] unless /^aa/ === q
      20.times.map{generate.encode('EUC-JP') rescue nil}.select{|s|!s.nil?}
    end

  end

end

# ヽ|＞ェ＜；|ノ ソースコードを見るなんてエッチ過ぎです！
# via http://bit.ly/1YKyIG
